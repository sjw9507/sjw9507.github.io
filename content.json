[{"title":"linux下的dubbo+zookeeper环境搭建","slug":"linux下的dubbo+zookeeper环境搭建","date":"2017-05-16T09:05:32.000Z","updated":"2017-05-21T14:12:04.117Z","comments":true,"path":"2017/05/16/linux下的dubbo+zookeeper环境搭建/","link":"","permalink":"http://sjw9507.github.io/2017/05/16/linux下的dubbo+zookeeper环境搭建/","excerpt":"前言之前我有使用window搭建过，但是对于服务器来说，linux是最适合的。Linux系统具有稳定且高效、免费或少许费用、安全的用户及文件权限策略、多用户、多任务、支持多线程和多CPU、漏洞少且快速修补、相对不耗费资源、可自由定制等具有优越性的特点。 此篇文章是依据于上一篇用windows搭建的改写，主要说说在linux上的配置问题。","text":"前言之前我有使用window搭建过，但是对于服务器来说，linux是最适合的。Linux系统具有稳定且高效、免费或少许费用、安全的用户及文件权限策略、多用户、多任务、支持多线程和多CPU、漏洞少且快速修补、相对不耗费资源、可自由定制等具有优越性的特点。 此篇文章是依据于上一篇用windows搭建的改写，主要说说在linux上的配置问题。 正文首先你需要在虚拟机上安装好jdk，并配置好java相关的环境变量$JAVA_HOME。ZooKeeper服务器是用Java编写创建，它运行在JVM上。可以使用java -version命令查看是否配置成功。 下载好linux的zookeeper安装包，我使用的是zookeeper-3.4.6.tar.gz，把它解压好。 与windows环境下一样，进入conf目录下，把zoo_sample.cfg这个文件名改成zoo.cfg。并用vi进入该文件， 把dataDir=/tmp/zookeeper修改成如下 dataDir=/home/sjw/zookeeper/zookeeper-3.4.6/data dataLogDir=/home/sjw/zookeeper/zookeeper-3.4.6/logs 并在zookeeper根目录下创建对应的文件 这里有个问题要注意下，因为zookeeper需要用到2181端口，所以需要打开，不然会出现以下这个问题 DEBUG [localhost-startStop-1-SendThread(192.168.2.10:2181)] - Ignoring exception during shutdown input java.nio.channels.ClosedChannelException at sun.nio.ch.SocketChannelImpl.shutdownInput(SocketChannelImpl.java:755) at sun.nio.ch.SocketAdaptor.shutdownInput(SocketAdaptor.java:421) at org.apache.zookeeper.ClientCnxnSocketNIO.cleanup(ClientCnxnSocketNIO.java:200) at org.apache.zookeeper.ClientCnxn$SendThread.cleanup(ClientCnxn.java:1246) at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1170) 解决方法：开启防火墙端口 2181 /sbin/iptables -I INPUT -p tcp --dport 2181 -j ACCEPT将该设置添加到防火墙的规则中/etc/rc.d/init.d/iptables save 启动服务然后即可到bin目录下启动服务zkServer.sh start 查看服务状态，是否启动 zkServer.sh status 接下来，在代码中，发布dubbo服务以及引用服务的时候，要把ip地址修改成你linux服务器的ip地址,比如我的 &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;192.168.2.10:2181&quot; /&gt; 具体代码可参考windows搭建的文章 下载dubbo-admin的war包，在Linux的tomcat里部署，把工程放在webapps下即可访问 设置zookeeper开机自启动有两种方式可以实现开机自启动 第一种：直接修改/etc/rc.d/rc.local文件 在/etc/rc.d/rc.local文件中需要输入两行，其中export JAVA_HOME=/usr/local/java/jdk1.7.0_72是必须要有的，否则开机启动不成功，大家根据自己JDK安装的位置自行更改。 另一行/home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh start则是我们zookeeper的启动命令，当然这里的路径也是我给的例子。配置好之后，重启虚拟机，会发现已经可以开机自启了。 [root@zookeeper ~]# vim /etc/rc.d/rc.local #!/bin/sh # # This script will be executed *after* all the other init scripts. # You can put your own initialization stuff in here if you don&apos;t # want to do the full Sys V style init stuff. touch /var/lock/subsys/local export JAVA_HOME=/usr/local/java/jdk1.7.0_72 /home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh start 第二种：把zookeeper做成服务 root用户下进入到/etc/rc.d/init.d目录下 新建一个zookeeper脚本,并添加执行权限 touch zookeeper chmod +x zookeeper 接着用vi zookeeper来编辑这个文件 #!/bin/bash #chkconfig:2345 20 90 #description:zookeeper #processname:zookeeper export JAVA_HOME=/usr/local/java/jdk1.7.0_72 export PATH=$JAVA_HOME/bin:$PATH case $1 in start) su root /home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh start;; stop) su root /home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh stop;; status) su root /home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh status;; restart) su root /home/sjw/zookeeper/zookeeper-3.4.6/bin/zkServer.sh restart;; *) echo &quot;require start|stop|status|restart&quot; ;; esac 这个时候我们就可以用使用service zookeeper start/stop命令来尝试启动关闭zookeeper，使用service zookeeper status查看zookeeper状态了。 最后一点我们需要开机自动启动所以需要添加到启动里面使用chkconfig --add zookeeper命令吧zookeeper添加到开机启动里面 添加完成之后接这个使用chkconfig –list 来看看我们添加的zookeeper是否在里面 如果上面的操作都正常的话；你就可以重启你的linux服务器了,并查看是否自启成功了。","categories":[],"tags":[{"name":"linux","slug":"linux","permalink":"http://sjw9507.github.io/tags/linux/"},{"name":"dubbo","slug":"dubbo","permalink":"http://sjw9507.github.io/tags/dubbo/"},{"name":"zookeeper","slug":"zookeeper","permalink":"http://sjw9507.github.io/tags/zookeeper/"}]},{"title":"windows下搭建dubbo+zookeeper环境与使用","slug":"windows下搭建dubbo+zookeeper环境与使用","date":"2017-05-06T08:35:33.000Z","updated":"2017-05-08T15:40:28.125Z","comments":true,"path":"2017/05/06/windows下搭建dubbo+zookeeper环境与使用/","link":"","permalink":"http://sjw9507.github.io/2017/05/06/windows下搭建dubbo+zookeeper环境与使用/","excerpt":"前言之前在网上学到用linux搭建，便想着用windows试试。经过一番折腾终于弄了出来。故写这篇文章也是做一个总结，理一理我遇到的一些问题。 因为我之前的工程是用maven搭建的，所以这是基于整合ssm框架的maven工程。 那么首先应该谈一谈为什么要使用dubbo：","text":"前言之前在网上学到用linux搭建，便想着用windows试试。经过一番折腾终于弄了出来。故写这篇文章也是做一个总结，理一理我遇到的一些问题。 因为我之前的工程是用maven搭建的，所以这是基于整合ssm框架的maven工程。 那么首先应该谈一谈为什么要使用dubbo： 随着互联网的发展，或许网站的规模会越来越大，常规的垂直应用架构已无法应对，那么这个时候仅仅靠一台服务器是不够的。所以需要进行分布式架构。 那么这里，就有了问题，当服务器多了之后，它们之间是如何进行通讯，也就是调用和访问呢？这就要用到webservice技术了。而当你的系统足够大时，就会有许许多多的服务在通信，这时候就需要一个治理系统来保证有条不紊的演进。Dubbo是阿里开源的分布式服务框架，可以对服务统一治理，监控等等。 这是dubbo的架构图 节点角色说明： Provider: 暴露服务的服务提供方。 Consumer: 调用远程服务的服务消费方。 Registry: 服务注册与发现的注册中心。 Monitor: 统计服务的调用次调和调用时间的监控中心。 Container: 服务运行容器。 正文zookeeper的安装配置Zookeeper作为Dubbo服务的注册中心，Zookeeper是hadoop的一个子项目，其发展历程无需赘述。Dubbo原先基于数据库的注册中心，没采用Zookeeper，Zookeeper一个分布式的服务框架，是树型的目录服务的数据存储，能做到集群管理数据，这里能很好的作为Dubbo服务的注册中心，Dubbo能与Zookeeper做到集群部署。官方也是推荐使用zookeeper。 首先下载zookeeper，我这里的版本是3.4.6。解压后进入zookeeper的conf文件夹修改zoo-simple.cfg 为 zoo.cfg。 接着用编辑器打开zoo.cfg文件，做如下操作 接着就是启动zookeeper，进入bin文件夹 启动zkServer.cmd 这样，便是启动成功了，因为我的是在本机上部署的，所以ip地址是回环地址0，0，0，0。端口号则是之前默认设置的2181。注意 ：这个窗口不要关闭！让注册中心服务一直运行。 生产者和消费者项目的运行因为我的是maven工程，所以要添加依赖 12345678910111213141516 &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;dubbo&lt;/artifactId&gt; &lt;version&gt;2.5.3&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt; &lt;artifactId&gt;zookeeper&lt;/artifactId&gt; &lt;version&gt;3.4.6&lt;/version&gt; &lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt; &lt;artifactId&gt;zkclient&lt;/artifactId&gt; &lt;version&gt;0.1&lt;/version&gt;&lt;/dependency&gt; 同时，在业务层做如下，这里给出我的例子，接口及实体类省略。 123456789101112@Servicepublic class ItemServiceImpl implements ItemService &#123; @Autowired private TbItemMapper itemMapper; @Override public TbItem getItemById(long itemId) &#123; TbItem item = itemMapper.selectByPrimaryKey(itemId); return item; &#125;&#125; 控制层 1234567891011121314@Controllerpublic class ItemController &#123; @Autowired private ItemService itemService; @RequestMapping(\"/item/&#123;itemId&#125;\") @ResponseBody public TbItem getItemById(@PathVariable Long itemId) &#123; TbItem tbItem = itemService.getItemById(itemId); return tbItem; &#125;｝ 好了，写完这些，我们还要在配置文件中添加dubbo的配置。 首先，在业务层中作为生产者，需要在spring配置文件中添加如下 &lt;!-- 发布dubbo服务 --&gt; &lt;!-- 提供方应用信息，用于计算依赖关系 --&gt; &lt;dubbo:application name=&quot;eshop-manager&quot; /&gt; &lt;!-- 注册中心的地址 --&gt; &lt;!--这里因为我的zookeeper注册在本机，所以ip地址是这个，大家根据自己的不同修改--&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot; /&gt; &lt;!-- 用dubbo协议在20880端口暴露服务 --&gt; &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot; /&gt; &lt;!-- 声明需要暴露的服务接口 --&gt; &lt;dubbo:service interface=&quot;com.eshop.service.ItemService&quot; ref=&quot;itemServiceImpl&quot; /&gt; 注意，scheme不要忘了引入 xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot; http://code.alibabatech.com/schema/dubbo 另外，scheme文件要手动添加，在eclipse中点击Windows--&gt;preference，在搜索框输入xml,点击XML Catalog,找到add添加，如下图 同时，作为消费者的控制层也要添加如下，scheme导入同上 &lt;!-- 引用dubbo服务 --&gt; &lt;dubbo:application name=&quot;eshop-manager-web&quot; /&gt; &lt;dubbo:registry protocol=&quot;zookeeper&quot; address=&quot;127.0.0.1:2181&quot; /&gt; &lt;dubbo:reference interface=&quot;com.eshop.service.ItemService&quot; id=&quot;itemService&quot; /&gt; 补充说明： dubbo:registry 标签一些属性的说明： register是否向此注册中心注册服务，如果设为false，将只订阅，不注册。 check注册中心不存在时，是否报错。 subscribe是否向此注册中心订阅服务，如果设为false，将只注册，不订阅。 timeout注册中心请求超时时间(毫秒)。 address可以Zookeeper集群配置，地址可以多个以逗号隔开等。 dubbo:service标签的一些属性说明： interface服务接口的路径 ref引用对应的实现类的Bean的ID registry向指定注册中心注册，在多个注册中心时使用，值为的id属性，多个注册中心ID用逗号分隔，如果不想将该服务注册到任何registry，可将值设为N/A register 默认true ，该协议的服务是否注册到注册中心。 dubbo admin UI工具的安装这个是dubbo的客户端监控中心。我的版本是dubbo-admin-2.5.4.war，大家可以在网上下载到，解压后放到tomcat安装处的webapps下 这里注意，如果监控中心与注册中心在同一台服务器上，可以不需要任何配置。如果不在同一台，则需要修改解压文件后的WEB-INF下的dubbo.properties文件 这里的ip地址就需要修改了。 dubbo.registry.address=zookeeper://127.0.0.1:2181 配置好后，启动tomcat，在浏览器中输入http://localhost:8080/dubbo（这里的dubbo是我的dubbo admin的项目名字，可以更改。）登录时需要用户名root和密码root。 就可以看到如下图片，有提供者和消费者注册的服务了。我们也可以对它们进行管理操作。 另外，这里谈一谈我在实践中遇到的问题，花费了不少的时间。 在运行的时候经常报错，无非是如下这里个问题，我做一个归纳： 读取配置文件问题，看一看web.xml有没有读入 注解导包是否正确，有没有缺少什么 别忘了pojo类实现序列化接口 防火墙或许对你来说是个问题。 总结到此基本上就已经结束了，只是明白了dubbo最基本的使用，即应用之间的rpc调用，服务提供者和使用者。Dubbo还提供了其他很多高级特性，如路由规则、参数回调、服务分组、服务降级等等，而且很多特性在给出内置实现的基础上，还给出了扩展的接口，我们可以给出自定义的实现，非常方便而且强大。至于zookeeper，我这里也只是单机配置，还没有尝试集群配置。以后再慢慢深入研究。","categories":[],"tags":[{"name":"dubbo","slug":"dubbo","permalink":"http://sjw9507.github.io/tags/dubbo/"},{"name":"zookeeper","slug":"zookeeper","permalink":"http://sjw9507.github.io/tags/zookeeper/"}]},{"title":"hexo+github搭建个人博客（二）","slug":"hexo+github搭建个人博客（二）","date":"2017-05-04T07:33:04.000Z","updated":"2017-05-08T15:35:03.684Z","comments":true,"path":"2017/05/04/hexo+github搭建个人博客（二）/","link":"","permalink":"http://sjw9507.github.io/2017/05/04/hexo+github搭建个人博客（二）/","excerpt":"前言上一篇文章介绍了hexo+gitHub简易搭建属于自己的个人独立博客，但是主题是默认的landscape，hexo上有许多好看的主题，有官方主题。也有别人自己写的，大家可以上网搜一搜。我这里就演示一下我自己用的yilia主题。","text":"前言上一篇文章介绍了hexo+gitHub简易搭建属于自己的个人独立博客，但是主题是默认的landscape，hexo上有许多好看的主题，有官方主题。也有别人自己写的，大家可以上网搜一搜。我这里就演示一下我自己用的yilia主题。 正文安装主题git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia 当然，你也可以直接访问他的github下载下来，然后复制粘贴到hexo/themes下。 然后就可以到你的博客根目录下修改_config.yml中的theme: landscape改为theme: yilia，重新执行hexo g来生成。 你可以hexo s先预览下，哈哈，是不是不错啊。 配置参数下面介绍下hexo目录都是些什么 1. ├── _config.yml 2. ├── package.json 3. ├── scaffolds 4. ├── source 5. | ├── _drafts 6. | └── _posts 7. └── themes _config.yml:网站的 配置 信息，您可以在此配置大部分的参数。package.json:应用程序的信息。scaffolds:模版文件夹。当您新建文章时，Hexo会根据scaffold 来建立文件。source资源文件夹是存放用户资源的地方。除posts文件夹之外，开头命名为(下划线)的文件/文件夹和隐藏的文件将会被忽略。Markdown和HTML文件会被解析并放到public文件夹，而其他文件会被拷贝过去。themes:主题 文件夹。Hexo会根据主题来生成静态页面。 下面来说一下主题的配置，它也有一个配置文件_config.yml位于主题根目录下.这里给出作者的配置使用，大家可以自己更改参数 # Header menu: 主页: / 随笔: /tags/随笔/ # SubNav subnav: github: \"#\" weibo: \"#\" rss: \"#\" zhihu: \"#\" #qq: \"#\" #weixin: \"#\" #jianshu: \"#\" #douban: \"#\" #segmentfault: \"#\" #bilibili: \"#\" #acfun: \"#\" #mail: \"mailto:litten225@qq.com\" #facebook: \"#\" #google: \"#\" #twitter: \"#\" #linkedin: \"#\" rss: /atom.xml # 是否需要修改 root 路径 # 如果您的网站存放在子目录中，例如 http://yoursite.com/blog， # 请将您的 url 设为 http://yoursite.com/blog 并把 root 设为 /blog/。 root: # Content # 文章太长，截断按钮文字 excerpt_link: more # 文章卡片右下角常驻链接，不需要请设置为false show_all_link: '展开全文' # 数学公式 mathjax: false # 是否在新窗口打开链接 open_in_new: false # 打赏 # 请在需要打赏的文章的md文件头部，设置属性reward: true # 打赏基础设定：0-关闭打赏； 1-文章对应的md文件里有reward:true属性，才有打赏； 2-所有文章均有打赏 reward_type: 2 # 打赏wording reward_wording: '谢谢你请我吃糖果' # 支付宝二维码图片地址，跟你设置头像的方式一样。比如：/assets/img/alipay.jpg alipay: # 微信二维码图片地址 weixin: # Miscellaneous baidu_analytics: '' google_analytics: '' favicon: /favicon.png #你的头像url avatar: #是否开启分享 share_jia: true #是否开启多说评论，填写你在多说申请的项目名称 duoshuo: duoshuo-key #若使用disqus，请在博客config文件中填写disqus_shortname，并关闭多说评论 duoshuo: false # 样式定制 - 一般不需要修改，除非有很强的定制欲望… style: # 头像上面的背景颜色 header: '#4d4d4d' # 右滑板块背景 slider: 'linear-gradient(200deg,#a0cfe4,#e8c37e)' # slider的设置 slider: # 是否默认展开tags板块 showTags: false # 智能菜单 # 如不需要，将该对应项置为false # 比如 #smart_menu: # friends: false smart_menu: innerArchive: '所有文章' friends: '友链' aboutme: '关于我' friends: 友情链接1: http://localhost:4000/ 友情链接2: http://localhost:4000/ 友情链接3: http://localhost:4000/ 友情链接4: http://localhost:4000/ 友情链接5: http://localhost:4000/ 友情链接6: http://localhost:4000/ 添加浏览器上的小图标可以打开themes\\yilia\\layout\\_partial\\head.ejs，找到&lt;link rel=&quot;icon&quot; href=&quot;&lt;%- theme.favicon %&gt;&quot;&gt;替换为&lt;link href=&quot;&lt;%- theme.favicon %&gt;favicon.ico&quot; rel=&quot;icon&quot; type=&quot;image/x-ico&quot;&gt;，然后将名字改为favicon.ico的图标放在themes\\yilia\\source目录下,就可以显示图标了。 文章截断用&lt;!--more--&gt;，在&lt;!--more--&gt;之前的内容会显示在首页，之后的内容会被隐藏,只有点击显示全文才能看见。 总结就先写到这，至于博客的优化有许多，我也在摸索中。但是毕竟，我们更应该关注的是内容不是么。哈哈！","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://sjw9507.github.io/tags/hexo/"}]},{"title":"hexo+github搭建个人博客（一）","slug":"hexo+github搭建个人博客（一）","date":"2017-05-03T14:38:29.000Z","updated":"2017-05-04T10:07:21.666Z","comments":true,"path":"2017/05/03/hexo+github搭建个人博客（一）/","link":"","permalink":"http://sjw9507.github.io/2017/05/03/hexo+github搭建个人博客（一）/","excerpt":"前言使用github pages服务搭建博客的好处有许多： 全是静态文件，访问速度快； 免费方便，不需要服务器不需要后台； 可以随意绑定自己的域名，不仔细看的话根本看不出来你的网站是基于github的； 博客内容可以轻松打包、转移、发布到其它平台； 等等；","text":"前言使用github pages服务搭建博客的好处有许多： 全是静态文件，访问速度快； 免费方便，不需要服务器不需要后台； 可以随意绑定自己的域名，不仔细看的话根本看不出来你的网站是基于github的； 博客内容可以轻松打包、转移、发布到其它平台； 等等； 本文是用windows系统 正文准备工作 Node.js： 用来创建hexo博客框架的,我的版本为：node-v6.10.2-x64 Git客户端： 用来提交代码，至于它的命令大家应该都会一点，如果即使不懂Git的命令，跟着本博文走，也完全没问题，我安装的版本是Git-2.12.2-64-bit 安装完后可以打开cmd控制台，输入命令查看版本，这里给出我的例子： 如果显示版本就说明安装成功了。 安装hexo首先介绍一下hexo的常见命令: hexo new \"postName\" #新建文章 hexo new page \"pageName\" #新建页面 hexo generate #生成静态页面至public目录 hexo server #开启预览访问端口（默认端口4000，'ctrl + c'关闭server） hexo deploy #部署到GitHub hexo help # 查看帮助 hexo version #查看Hexo的版本 缩写： hexo n == hexo new hexo g == hexo generate hexo s == hexo server hexo d == hexo deploy 组合命令： hexo s -g #生成并本地预览 hexo d -g #生成并上传 利用 npm 命令即可安装。在任意位置点击鼠标右键，选择Git Base 输入安装hexo命令： npm install -g hexo 安装完成后，在你想要把hexo部署到文件夹下（如我的是F:\\develop\\hexo，这个文件夹自己创，点击鼠标右键，选择Git Bash），执行 hexo init 这个指令Hexo 即会自动在目标文件夹建立网站所需要的所有文件。 安装依赖包： npm install 让我们看看刚刚下载的hexo文件带来了什么，在F:\\develop\\hexo内执行以下命令： hexo g hexo s 然后打开浏览器访问http://localhost:4000， 此时，你应该看到了一个漂亮的博客了，当然这个博客只是在本地的，别人是看不到的。但是这也足够让我们激动了是不是，接下来就是如何把它部署到github上了。 创建repository如何你还没有github帐号，那么就先去创建并熟悉一下，这里就不再多说了。 repository相当于一个仓库，用来放置你的代码文件。首先，进入创建的页面，按下图输入： 比如我创建的就是sjw9507.github.io，这也是我之后能够访问到自己博客的域名。 部署本地文件到github首先你需要到你安装hexo的文件夹下(比如我安装在F:\\develop\\hexo)找到_config.yml这个文件，如果我没记错的话在最下面，修改成如下格式 deploy: type: git #sjw9507改为你的github用户名 repo: git@github.com:sjw9507/sjw9507.github.io.git branch: master 完整文件如下，可以根据自己的喜好修改其他参数 #博客名称 title: 我的博客 #副标题 subtitle: #简介 description: #博客作者 author: #博客语言 language: zh-CN #时区 timezone: #博客地址,与申请的GitHub一致 url: http://elfwalk.github.io root: / #博客链接格式 permalink: :year/:month/:day/:title/ permalink_defaults: source_dir: source public_dir: public tag_dir: tags archive_dir: archives category_dir: categories code_dir: downloads/code i18n_dir: :lang skip_render: new_post_name: :title.md # File name of new posts default_layout: post titlecase: false # Transform title into titlecase external_link: true # Open external links in new tab filename_case: 0 render_drafts: false post_asset_folder: false relative_link: false future: true highlight: enable: true line_number: true auto_detect: true tab_replace: default_category: uncategorized category_map: tag_map: #日期格式 date_format: YYYY-MM-DD time_format: HH:mm:ss #分页，每页文章数量 per_page: 10 pagination_dir: page #博客主题 theme: landscape #发布设置 deploy: type: git #sjw9507改为你的github用户名 repo: git@github.com:sjw9507/sjw9507.github.io.git branch: master 配置好_config.yml并保存后。如果你是第一次使用Github或者是已经使用过，但没有配置过SSH，则可能需要配置一下。 可以输入这个命令查看下有没有配置成功过。 ssh -T git@github.com # 注意邮箱地址不用改 如果没配置过，按照以下步骤： cd ~/. ssh #检查本机已存在的ssh密钥 如果提示：No such file or directory 说明你是第一次使用git。 如果出现bash: cd: too many arguments 说明可能你生产过ssh key，你可以到.ssh文件把他们删除再生成一遍即可。 输入以下指令（邮箱就是你注册Github时候的邮箱）后，回车，出现提示让你输入的时候直接先回车，好像需要3次，如下图所示： ssh-keygen -t rsa -C \"你的邮箱地址\" 这之后就会生成一些文件，打开用户目录，找到.ssh\\id_rsa.pub文件，记事本打开并复制里面的内容，打开你的github主页，进入个人设置 -> SSH and GPG keys -> New SSH key： ![img](https://raw.githubusercontent.com/sjw9507/imgs/master/hexo/hexo1/3.jpg) 将刚复制的内容粘贴到key那里，title随便填，保存。 然后添加密钥到ssh-agent eval `ssh-agent -s` 然后ssh-add 会出现一个identity added的消息 接着测试是否成功 ssh -T git@github.com # 注意邮箱地址不用改 如果提示Are you sure you want to continue connecting (yes/no)?，输入yes，然后会看到： Hi xxx! You&#39;ve successfully authenticated, but GitHub does not provide shell access. 看到这个信息说明SSH已配置成功！ 执行以下命令部署到Github上 hexo g hexo d 这里有个地方会出错，如果执行hexo d命令报ERROR Deployer not found：git 就先安装一下hexo-deployer-git这个模块： npm install hexo-deployer-git --save 安装好了继续执行hexo d部署命令，输入gitHub的账号密码，就可以打开浏览器访问了。我的是:sjw9507.github.io 发布一篇文章在Git Bash执行命令： hexo new \"my new post\" 在hexo\\source_post 会生成一个my-new-post.md的文件，当然你也可以自己手动创建。不过自动生成的比较方便,会帮你生成好以下内容： title: my new post #可以改成中文的，如“新文章” date: 2016-02-21 16:04:09 #发表日期，一般不改动 categories: blog #文章文类 tags: [文章] #文章标签，多于一项时用这种格式，只有一项时使用tags: blog 使用记事本或者其他文本工具打开文件编辑，它是markdown语法的，所以我建议大家使用专用的编辑器，网上找找有许多推荐好用的，我使用的是markdownpad。至于markdown的语法，网上简单学学也不难。 写完文章后，你可以hexo g生成静态文件，然后hexo s在本地预览效果。或者直接hexo d同步到github。 总结到这里，就算初步搭好了一个属于自己的独立博客，后续就是本地写文章然后部署最后发布就行。当然这只是最基础的。hexo还有许多好看的主题，我会在下一篇文章中写到。本文算是详细的介绍了搭建过程，按照我这个整理的教程搭建，理论上都能搭建成功。遇到问题大家多多讨论。","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://sjw9507.github.io/tags/hexo/"}]},{"title":"建立博客的初衷","slug":"建立博客的初衷","date":"2017-05-03T07:19:24.338Z","updated":"2017-05-04T10:02:09.797Z","comments":true,"path":"2017/05/03/建立博客的初衷/","link":"","permalink":"http://sjw9507.github.io/2017/05/03/建立博客的初衷/","excerpt":"记得以前也有过写一个博客的想法，一来可以把自己的所学所想记录下来,日后也可反思查阅。二来也可以给别人提供借鉴的思路吧，一个人总会磕磕绊绊，那么或许我这里就有解决的办法，从而节省你的时间。","text":"记得以前也有过写一个博客的想法，一来可以把自己的所学所想记录下来,日后也可反思查阅。二来也可以给别人提供借鉴的思路吧，一个人总会磕磕绊绊，那么或许我这里就有解决的办法，从而节省你的时间。 之前了解到那些博客平台，感觉很麻烦，不是很简洁。于是便想自己搭建一个博客。但是觉得申请域名+服务器的太麻烦了就一直没有实现。前段时间在网上看到Hexo这个优秀的静态博客框架，再搭配现在流行的gitHub，方便了不少，而且还可以不用花钱( ^_^ ) 建好博客后，闲下来的时间就可以写写文章，做做总结，博客之路就从这里开始了！","categories":[],"tags":[]}]